<?php
/**
 * I belong to Defination
 */

class  FieldIntDefine extends FieldDefine {
    
    public function __construct() {
        parent::__construct();
    }
    
    /**
    * Will through exception is not unique name.
    *
    * @param string $name Unique name of the field
    * @param integer $_formTypeId its parent form type
    *
    * @return bool
    */
    function create($name, $_formTypeId, $type="number", $category=false)
    {
       //call the parent create
       return parent::create($name, $_formTypeId, "number", false);
    }
    
    
    
    /**
    * @param string $name string or number
    *
    * @return boolean
    */
    function delete($name)
    {
        //get the id if name is inputed
        $id;
        if(is_numeric($name)){
            $id=$name;
        }
        else{
            $data = $this->db->select("select id from field where name = :name", array("name" => $name));
            if(isset($data[0]["id"]))
            {
                $id = $data[0]["id"];
            }
            else
            {
                return false;
            }
        }
        
        //delte the values
        $this->db->delete("field_int", "_fieldId = " . $id);
        
        //delete the field
        return parent::delete($id);
    
    }

}
